

#include "sine_generator.h"


void sine_gen_init_q15(sine_generator_q15_t *sine_desc,  q15_t sine_freq, q15_t sample_freq)
{
	//  Variables to hold intermediate sine values and coefficients
	float32_t y[4];
	float32_t coeff4;
	float32_t coeff5;

	y[0] = 0.0;

	// Calculate sine values normalized by sampling frequency for first three harmonics
	y[1] = arm_sin_f32(2.0 * PI * sine_freq/sample_freq);
	y[2] = arm_sin_f32(4.0 * PI * sine_freq/sample_freq);
	y[3] = arm_sin_f32(6.0 * PI * sine_freq/sample_freq);

	// Calculate coefficients for sine wave generator
	coeffs4 = (y[2]/y[1])/2.0;
	coeffs5 = ((y[1] * y[3] - y[2] * y[2])/(y[1] * y[1]))/2.0;

}
